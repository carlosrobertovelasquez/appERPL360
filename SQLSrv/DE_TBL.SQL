CREATE TABLE ERPADMIN.GLOBALES_DE
(
	NOMBRE VARCHAR(100) NOT NULL,
	VALOR TEXT NULL,
	TIPO VARCHAR(1) NULL,
)
go

ALTER TABLE ERPADMIN.GLOBALES_DE ADD CONSTRAINT PK_GLOBALESDE PRIMARY KEY (NOMBRE)
go

CREATE TABLE ERPADMIN.COMPANIA_DE
(
	COMPANIA VARCHAR(50) NOT NULL,
	PAIS VARCHAR(2) NOT NULL,
	CONFIGURADA VARCHAR(1) NOT NULL DEFAULT 'N',
)
go

ALTER TABLE ERPADMIN.COMPANIA_DE ADD CONSTRAINT PK_COMPANIADE PRIMARY KEY (COMPANIA)
go

CREATE TABLE DOC_ELECTRONICO_PROC_DE(
	TIPO_DOC				VARCHAR(3)	NOT NULL,
	NUMERO_DOC				VARCHAR(50)	NOT NULL,
	NIT_EMISOR				VARCHAR(40)	NOT NULL,
	MODULO					VARCHAR(2)	NOT NULL,
	EMAIL_EMISOR				VARCHAR(255)	NULL,
	GLN_EMISOR				VARCHAR(13)	NOT NULL,
	NIT_RECEPTOR				VARCHAR(40)	NOT NULL,
	EMAIL_RECEPTOR				VARCHAR(255)	NULL,
	GLN_RECEPTOR				VARCHAR(13)	NOT NULL,
	ENVIADO					VARCHAR(1)	NOT NULL,
	ACEPTADO				VARCHAR(1)	NULL,
	CARGADO_ERP				VARCHAR(1)	NULL,
	NUMERO_RECEPCION			DECIMAL(28,8)	NULL,
	CANTIDAD_IMPRESIONES			INT		NULL,
	DOCUMENTO_ELECTRONICO			XML		NULL,
	ACEPTACION_RECHAZO			XML		NULL, 
	NOMBRE_PDF				VARCHAR(255)	NULL,
	FIRMA_DOCUMENTO 			VARCHAR(MAX)	NULL,
	FECHA_HORA           			DATETIME 	NOT NULL DEFAULT (ERPADMIN.SF_GETDATE()),
	ESTADO               			VARCHAR(1) 	NOT NULL DEFAULT ('N'),
	FOLIO_SAT 				VARCHAR(36) 	NULL,
	CADENA_ORIGINAL 			VARCHAR(MAX)	NULL,
	NOCERTIFICADO 				VARCHAR(20)	NULL,
	FECHATIMBRADO 				VARCHAR (21)	NULL,
	NOCERTIFICADOSAT 			VARCHAR(20)	NULL,
	SELLOSAT 				VARCHAR(MAX)	NULL,
	SELLOCDF 				VARCHAR (MAX)	NULL,
	NOMBRE_XML 				VARCHAR(255) 	NULL,
	CONTIENE_ERRORES 			VARCHAR(1)      NULL,
	NUMERO_CAE 				VARCHAR(MAX) 	NULL,
	NUMERO_DTE 				VARCHAR(MAX) 	NULL,
	XML_TEMP 				NVARCHAR(MAX)	NULL,
	GENERA_CARTA_PORTE 			VARCHAR(1) 	NOT NULL DEFAULT 'N',
	ESTADO_CARTA_PORTE 			VARCHAR(1) 	NULL,
	ULTIMO_ERROR 				VARCHAR(MAX) 	NULL,
	ERROR_WS 				VARCHAR(1) 	NOT NULL DEFAULT 'N',
	ERROR_SOFTLAND 				VARCHAR(1) 	NOT NULL DEFAULT 'N',
	GUUID_GT 				VARCHAR(255) 	NULL,
	XML_RESPUESTA				NVARCHAR(MAX)	NULL,
	PDF_ARCHIVO				VARBINARY(MAX)  NULL,
	LINK_CONSULTA			NVARCHAR(350)	NULL
)
go


ALTER TABLE DOC_ELECTRONICO_PROC_DE
	ADD CONSTRAINT XPKDOCELECPROCDE PRIMARY KEY (TIPO_DOC,NUMERO_DOC,NIT_EMISOR)
go

CREATE TABLE DOC_ELECTRONICO_RECI_DE(
	ID						INT IDENTITY(1,1),
	TIPO_DOC				VARCHAR(20)	NOT NULL,
	CLAVE					VARCHAR(50)	NOT NULL,
	NIT_EMISOR				VARCHAR(40)	NOT NULL,
	NOMBRE					VARCHAR(40)	NOT NULL,
	CONSECUTIVO				VARCHAR(40)	NOT NULL,
	ENVIADO					VARCHAR(1)	NOT NULL,
	ACEPTADO				VARCHAR(1)	NULL,
	DOCUMENTO_ELECTRONICO	XML		NULL,
	FECHA_EMISION           DATETIME 	NOT NULL DEFAULT (ERPADMIN.SF_GETDATE()),
	ERRORES_ESQUEMA 		VARCHAR(1)      NULL,
	XML_RESPUESTA			NVARCHAR(MAX)	NULL,
	PDF_ARCHIVO				VARBINARY(MAX)  NULL,
	EMAIL_EMISOR			VARCHAR(40)	 NULL)
go

ALTER TABLE DOC_ELECTRONICO_RECI_DE
	ADD CONSTRAINT XPKDOCELECRECIDE PRIMARY KEY (ID)
go

CREATE TABLE U_FEUNIDAD(
U_CODIGO VARCHAR(20) NOT NULL,
U_DESCRIP VARCHAR(100) NULL)
go

ALTER TABLE UNIDAD_DE_MEDIDA
ADD U_FEUNIDAD VARCHAR(200) NULL;
go
